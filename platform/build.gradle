plugins {
    id("java-platform")
}

dependencies {
    constraints {
        // production
        api("com.sparkjava:spark-core:2.9.3")
        api("org.msgpack:msgpack-core:0.8.22")
        api("ch.qos.logback:logback-classic:1.2.3")
        api("io.micrometer:micrometer-registry-prometheus:1.6.4")
        api("io.zipkin.brave:brave-instrumentation-sparkjava:5.13.3")
        api("io.zipkin.brave:brave-instrumentation-p6spy:5.13.3")
        api("io.zipkin.reporter2:zipkin-sender-urlconnection:2.16.3")
        api("com.zaxxer:HikariCP:4.0.2")
        api("org.flywaydb:flyway-core:7.5.2")
        api("org.postgresql:postgresql:42.2.18")
        api("mysql:mysql-connector-java:8.0.23")

        // test
        api("org.junit.jupiter:junit-jupiter:5.6.2")
        api("org.assertj:assertj-core:3.19.0")
        api("com.tngtech.archunit:archunit-junit5:0.16.0")
        api("io.rest-assured:rest-assured:4.3.3")
        api("com.h2database:h2:1.4.200")
        api("org.junit.jupiter:junit-jupiter:5.6.2")
        api("org.assertj:assertj-core:3.19.0")
        api("org.slf4j:slf4j-api") { version { strictly("1.7.30") }} // internal conflict in testcontainers
        api("net.java.dev.jna:jna") { version { strictly("5.5.0") }} // internal conflict in testcontainers
        api("org.apache.httpcomponents:httpasyncclient:4.1.4")
        api("org.testcontainers:testcontainers:1.15.1")
        api("org.testcontainers:postgresql:1.15.1")
        api("org.testcontainers:mysql:1.15.1")
    }
}